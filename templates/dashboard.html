{% extends "base.html" %}

{% block title %}Dashboard - MoneyMap{% endblock %}

{% block content %}
<h2>Dein Dashboard</h2>

<h3>Deine Transaktionen</h3>
<table>
    <tr>
        <th>Betrag</th>
        <th>Kategorie</th>
        <th>Typ</th>
        <th>Datum</th>
        <th>Aktionen</th>
    </tr>
    {% for transaction in transactions %}
    <tr>
        <td>{{ transaction.amount }}</td>
        <td>{{ transaction.category }}</td>
        <td>{{ transaction.transaction_type }}</td>
        <td>{{ transaction.date.strftime('%Y-%m-%d') }}</td>
        <td>
            <form action="{{ url_for('delete_transaction', id=transaction.id) }}" method="POST">
                <button type="submit">Löschen</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

<h3>Deine Budgets</h3>
<table>
    <tr>
        <th>Kategorie</th>
        <th>Betrag</th>
        <th>Zeitraum</th>
        <th>Aktionen</th>
    </tr>
    {% for budget in budgets %}
    <tr>
        <td>{{ budget.category }}</td>
        <td>{{ budget.amount }}</td>
        <td>{{ budget.period }}</td>
        <td>
            <form action="{{ url_for('delete_budget', id=budget.id) }}" method="POST">
                <button type="submit">Löschen</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

<h3>Deine Sparziele</h3>
<table>
    <tr>
        <th>Name</th>
        <th>Zielbetrag</th>
        <th>Aktueller Betrag</th>
        <th>Datum erstellt</th>
        <th>Aktionen</th>
    </tr>
    {% for goal in savings_goals %}
    <tr>
        <td>{{ goal.name }}</td>
        <td>{{ goal.target_amount }}</td>
        <td>{{ goal.current_amount }}</td>
        <td>{{ goal.date_created.strftime('%Y-%m-%d') }}</td>
        <td>
            <form action="{{ url_for('delete_savings_goal', id=goal.id) }}" method="POST">
                <button type="submit">Löschen</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
